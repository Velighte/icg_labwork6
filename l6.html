<html> 
    <head> 		
        <script type='text/javascript' src="http://x3dom.org/release/x3dom-full.js">                         
        </script> 
        <link rel='stylesheet' type='text/css' href='http://www.x3dom.org/download/x3dom.css'></link> 
    </head> 
        <body> 
            <h1>Лабораторная работа №6 </h1> 
            <p> 
                Анимация и интерактивность с использованием последователей и скриптов  
            </p> 
            <x3d width='1200px' height='500px'> 
                <scene>
                    <NavigationInfo avatarSize='[10,1.6,0.75]' headlight='true' speed='20'  type='["NONE"]' ></NavigationInfo> 

                    <!--Для обхода вечной загрузки в браузере надо запустить браузер с локальным доступом -->
                    <!-- 1. Запустить cmd и набрать cd C:\Program Files (x86)\Google\Chrome\Application -->
                    <!-- 2. chrome --allow-file-access-from-files file:///C:/test%20-%203.html -->           
                    <transform translation='-10 0 -20' scale='0.1 0.1 0.1' rotation='0 -1 1 3.14'>
                        <inline url="Anime.x3d"> </inline>
                    </transform>                 
  
                    <transform translation='0 0 3000' scale='0.05 0.05 0.05' rotation='0 -1 1 3.14'>
                        <inline url="Anime.x3d"> </inline>
                    </transform>

                    <transform translation='200 -23 2400' scale='1000 1000 1000'rotation='0 0 0 0'>
                        <inline url="stone1.x3d"> </inline>
                    </transform>

                    <transform translation='-600 -23 2000' scale='1 1 1'rotation='0 -1 0 1.57'>
                        <Anchor url="file:///C:\Users\VeLighTe\Google Диск\Вуз\Интерактивная компьютерная графика\L6\l6\l6next.html" >
                        <inline url="boar.x3d"> </inline>
                    </transform>

                    <!--местоположение и ориентация точек наблюдения. -->
                    <Viewpoint position="0 0 0" orientation="0 0 0 0" description="camera"></Viewpoint>                   
                    <Viewpoint position="0 0 3150" orientation="0 0 0 0" description="camera"></Viewpoint>
                    <Viewpoint position="400 0 3150" orientation="0 1 0 1.57" description="camera"></Viewpoint>
                    <Viewpoint position="800 0 2750" orientation="0 1 0 1.57" description="camera"></Viewpoint>
                    <Viewpoint position="1200 0 2350" orientation="0 1 0 2.57" description="camera"></Viewpoint>
                    <Viewpoint position="700 0 2650" orientation="0 1 0 3.13" description="camera"></Viewpoint>
                    <Viewpoint position="-400 0 3150" orientation="0 1 0 -3.13" description="camera"></Viewpoint>
                    <Viewpoint position="-800 0 2750" orientation="0 1 0 1.57" description="camera"></Viewpoint>
                    <Viewpoint position="-1200 0 2350" orientation="0 1 0 2.57" description="camera"></Viewpoint>
                    <Viewpoint position="0 1500 2750" orientation="1 0 0 -1.57" description="camera"></Viewpoint>
                    <Viewpoint position="-600 10 2130" orientation="0 0 0 0" description="camera"></Viewpoint>
                
                    <!-- Поверхность 0 -->
                    <transform translation='0 0 20'>
                        <shape> 
                            <appearance> 
                                <material diffuseColor='#ffffff'></material> 
                            </appearance>         
                            <Box size='10000 10000 0'></Box> 
                        </shape>
                    </transform>        
                                  
                    <!--Текст "Здравствуй" -->
                    <transform DEF='Trans6' translation='-30 3 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="Здравствуй">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    <!-- Анимация 1 - Текст "Здравствуй" --> 
                    <Group DEF="Gr2">                     
                        <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                        </TimeSensor>
                        <PositionInterpolator   DEF='PosInt' key='0 0.2 0.4 0.6 0.8 1'
                                                keyValue='-30 3 -15, -30 3 -15, -12 3 -15, -12 3 -15, -30 3 -15, -30 3 -15'>
                        </PositionInterpolator>
                        <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                        <ROUTE  fromNode='Time' fromField='fraction_changed'
                                toNode='PosInt' toField='set_fraction'>
                        </ROUTE>
                        <ROUTE  fromNode='PosInt' fromField='value_changed'
                                toNode='PosCh' toField='set_destination'>
                        </ROUTE>
                        <ROUTE      fromNode='PosCh' fromField='value_changed'
                                toNode='Trans6' toField='set_translation'>
                        </ROUTE>
                    </Group>

                    <!--Текст "Новичок!" -->
                    <transform DEF='Trans7' translation='-30 2 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="новичок!">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>
            
                    <!-- Анимация 2 - Текст "Новичок -->
                    <Group DEF="Gr3">                      
                        <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                        </TimeSensor>
                        <PositionInterpolator      DEF='PosInt' key='0 0.2 0.4 0.6 0.8 1'
                                                keyValue='-30 2 -15, -30 2 -15, -12 2 -15, -12 2 -15, -30 2 -15, -30 2 -15'>
                        </PositionInterpolator>
                        <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                        <ROUTE      fromNode='Time' fromField='fraction_changed'
                                toNode='PosInt' toField='set_fraction'>
                        </ROUTE>
                        <ROUTE      fromNode='PosInt' fromField='value_changed'
                                toNode='PosCh' toField='set_destination'>
                        </ROUTE>
                        <ROUTE      fromNode='PosCh' fromField='value_changed'
                                toNode='Trans7' toField='set_translation'>
                        </ROUTE>
                    </Group>
                                        
                    <!--Текст "Сейчас я научу тебя управлению!" -->
                    <transform DEF='Trans5' translation='30 3 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="Сейчас я научу тебя управлению!">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    <!-- Анимация 3 - Текст "Сейчас я научу тебя управлению! -->
                    <Group DEF="Gr4">                      
                        <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                        </TimeSensor>
                        <PositionInterpolator   DEF='PosInt' key='0 0.2 0.4 0.6  0.8 1'
                                                keyValue='30 3 -15, 30 3 -15, 30 3 -15, 7 3 -15, 7 3 -15, 30 3 -15'>
                        </PositionInterpolator>
                        <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                        <ROUTE  fromNode='Time' fromField='fraction_changed'
                                toNode='PosInt' toField='set_fraction'>
                        </ROUTE>
                        <ROUTE  fromNode='PosInt' fromField='value_changed'
                                toNode='PosCh' toField='set_destination'>
                        </ROUTE>
                        <ROUTE  fromNode='PosCh' fromField='value_changed'
                                toNode='Trans5' toField='set_translation'>
                        </ROUTE>
                    </Group>

                    <!--Текст "Для перехода к следующему виду" -->
                    <transform DEF='Trans8' translation='30 2 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="Для перехода к следующему виду">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    <!-- Анимация 4 - Текст "Для перехода к следующему виду  -->
                    <Group DEF="Gr4">                      
                        <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                        </TimeSensor>
                        <PositionInterpolator   DEF='PosInt' key='0 0.2 0.4 0.6 0.8 1'
                                                keyValue='30 2 -15, 30 2 -15, 30 2 -15, 30 2 -15, 7 2 -15, 7 2 -15'>
                        </PositionInterpolator>
                        <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                        <ROUTE  fromNode='Time' fromField='fraction_changed'
                            toNode='PosInt' toField='set_fraction'>
                        </ROUTE>
                        <ROUTE  fromNode='PosInt' fromField='value_changed'
                                toNode='PosCh' toField='set_destination'>
                        </ROUTE>
                        <ROUTE  fromNode='PosCh' fromField='value_changed'
                                toNode='Trans8' toField='set_translation'>
                        </ROUTE>
                    </Group>
                    
                    <!--Текст "в сцене используется" -->
                    <transform DEF='Trans9' translation='30 1 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="в сцене используется">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    <!-- Анимация 5 - Текст "в сцене используется  -->                      
                    <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                    </TimeSensor>
                    <PositionInterpolator   DEF='PosInt' key='0 0.2 0.4 0.6 0.8 1'
                                                keyValue='30 1 -15, 30 1 -15, 30 1 -15, 30 1 -15, 7 1 -15, 7 1 -15'>
                    </PositionInterpolator>
                    <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                    <ROUTE  fromNode='Time' fromField='fraction_changed'
                            toNode='PosInt' toField='set_fraction'>
                    </ROUTE>
                    <ROUTE  fromNode='PosInt' fromField='value_changed'
                            toNode='PosCh' toField='set_destination'>
                    </ROUTE>
                    <ROUTE  fromNode='PosCh' fromField='value_changed'
                            toNode='Trans9' toField='set_translation'>
                    </ROUTE>

                    <!--Текст "PageUp" -->
                    <transform DEF='Trans10' translation='30 0 -15'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="PageUp">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    <!-- Анимация 6 - Текст "PageUp"  -->                      
                    <TimeSensor DEF='Time' cycleInterval='30' loop='true' enabled='true'>
                    </TimeSensor>
                    <PositionInterpolator   DEF='PosInt' key='0 0.2 0.4 0.6 0.8 1'
                                                keyValue='30 0 -15, 30 0 -15, 30 0 -15, 30 0 -15, 7 0 -15, 7 0 -15'>
                    </PositionInterpolator>
                    <PositionChaser DEF='PosCh' duration='1'></PositionChaser>

                    <ROUTE  fromNode='Time' fromField='fraction_changed'
                            toNode='PosInt' toField='set_fraction'>
                    </ROUTE>
                    <ROUTE  fromNode='PosInt' fromField='value_changed'
                            toNode='PosCh' toField='set_destination'>
                    </ROUTE>
                    <ROUTE  fromNode='PosCh' fromField='value_changed'
                            toNode='Trans10' toField='set_translation'>
                    </ROUTE>
 
                    <!--Текст "Отлично! А теперь найди статую дикого борова, используя PageUp, PageDown" -->
                    <transform DEF='Trans20' translation='0 0 3125'>
                        <shape>
                            <appearance>
                                <material diffuseColor='#6666ff'></material>                           
                            </appearance> 
                            <text string="Отлично! А теперь найди статую дикого борова, используя 'PageUp' и кликни на нёё ">  
                                <fontstyle style="bold"></fontstyle> 
                            </text>
                        </shape>
                    </transform>

                    </Scene>
                </X3D>
        </body> 
</html>